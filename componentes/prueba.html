<!-- index.html -->
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Restaurantes en Turbo</title>
  <!-- Bootstrap CSS opcional -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body { margin:0;
         font-family:Arial,sans-serif;
          background:#fdfaf6;
           color:#4a3f35; }
    .navbar { background:#8e4a33; padding:1rem; position:fixed; top:0; width:100%; box-shadow:0 2px 5px rgba(0,0,0,0.2); }
    .nav-container { display:flex; justify-content:space-between; align-items:center; max-width:960px; margin:0 auto; }
    .brand { color:#f8f4f0; font-size:1.5rem; text-decoration:none; }
    .nav-links a { color:#f8f4f0; margin-left:1rem; text-decoration:none; }
    .container { max-width:960px; margin:0 auto; padding:6rem 1rem 2rem; }
    .section { margin-bottom:2rem; }
    .filters { display:flex; gap:0.5rem; margin-bottom:1rem; }
    table { width:100%; border-collapse:collapse; }
    th, td { border:1px solid #ccc; padding:0.5rem; text-align:center; }
    th { background:#c0392b; color:#fff; }
    .card { background:#fff3ec; padding:1rem; margin-bottom:0.5rem; border:1px solid #dcd0c0; }
    button { cursor:pointer; padding:0.5rem 1rem; background:#c0392b; color:#fff; border:none; border-radius:4px; }
    button:hover { background:#a93226; }
    canvas { max-width:100%; margin-top:1rem; }
  </style>
</head>
<body>
  <nav class="navbar">
    <div class="nav-container">
      <a class="brand" href="#">Turbo Restaurants</a>
      <div class="nav-links">
        <a href="#info">Información</a>
        <a href="#datos">Datos</a>
        <a href="#calculadora">Encuesta</a>
        <a href="#dashboard">Dashboard</a>
      </div>
    </div>
  </nav>

  <main class="container">
    <section id="info" class="section">
      <h1>Restaurantes en Turbo</h1>
      <p>Explora el histórico y situación actual de los restaurantes en el distrito de Turbo.</p>
      <h2>Cocinas Destacadas</h2>
      <ul>
        <li>Comida criolla</li>
        <li>Mariscos</li>
        <li>Internacional</li>
        <li>Fast Food</li>
      </ul>
      <h2>Red de Apoyo</h2>
      <ul>
        <li><a href="https://www.turismo.gov.co/" target="_blank">Agencia de Turismo</a></li>
        <li><a href="https://www.mincomercio.gov.co/" target="_blank">Ministerio de Comercio</a></li>
        <li><a href="https://www.ccb.org.co/" target="_blank">Cámara de Comercio de Turbo</a></li>
      </ul>
    </section>

    <section id="datos" class="section">
      <h2>Datos Históricos de Restaurantes</h2>
      <div class="filters">
        <input type="number" id="yearFrom" placeholder="Año desde (1965)">
        <input type="number" id="yearTo" placeholder="Año hasta (2025)">
        <select id="typeFilter"><option value="">Todos</option></select>
        <button id="btnFilter">Filtrar</button>
      </div>
      <table id="dataTable">
        <thead>
          <tr><th>Año</th><th>Cocina</th><th># de Restaurantes</th></tr>
        </thead>
        <tbody></tbody>
      </table>
    </section>

    <section id="calculadora" class="section">
      <h2>Encuesta de Calidad</h2>
      <p>Evalúa aspectos clave de tu restaurante:</p>
      <div id="survey"></div>
      <button id="btnCalc">Calcular Puntuación</button>
      <div id="surveyResult"></div>
    </section>

    <section id="dashboard" class="section">
      <h2>Dashboard de Restaurantes</h2>
      <canvas id="barChart"></canvas>
      <canvas id="pieChart"></canvas>
      <canvas id="lineChart"></canvas>
      <canvas id="areaChart"></canvas>
    </section>
  </main>

  <script>
    // Datos históricos de ejemplo
    const historyData = [
      { year: 1965, type: 'Criolla', value: 5 },
      { year: 1980, type: 'Mariscos', value: 8 },
      { year: 1995, type: 'Internacional', value: 6 },
      { year: 2010, type: 'Fast Food', value: 10 },
      { year: 2025, type: 'Criolla', value: 12 }
    ];

    // Inicializar filtros
    const typeFilter = document.getElementById('typeFilter');
    new Set(historyData.map(d => d.type)).forEach(t => typeFilter.add(new Option(t, t)));
    document.getElementById('btnFilter').addEventListener('click', filterData);

    function renderTable(data) {
      const tbody = document.querySelector('#dataTable tbody');
      tbody.innerHTML = '';
      data.forEach(d => {
        tbody.innerHTML += `<tr><td>${d.year}</td><td>${d.type}</td><td>${d.value}</td></tr>`;
      });
    }

    function filterData() {
      const from = parseInt(document.getElementById('yearFrom').value) || 1965;
      const to = parseInt(document.getElementById('yearTo').value) || 2025;
      const type = document.getElementById('typeFilter').value;
      const filtered = historyData.filter(d => d.year >= from && d.year <= to && (type === '' || d.type === type));
      renderTable(filtered);
    }

    // Mostrar tabla inicial
    renderTable(historyData);

    // Encuesta de calidad
    const questions = [
      { q: 'Certificación sanitaria?', w: 3 },
      { q: 'Variedad de menú?', w: 2 },
      { q: 'Buena ubicación?', w: 3 },
      { q: 'Atención al cliente?', w: 2 }
    ];
    const surveyDiv = document.getElementById('survey');
    questions.forEach((s, i) => {
      const card = document.createElement('div');
      card.className = 'card';
      card.innerHTML = `
        <p>${s.q}</p>
        <select id="q${i}">
          <option value="0">No</option>
          <option value="${s.w}">Sí</option>
        </select>`;
      surveyDiv.appendChild(card);
    });
    document.getElementById('btnCalc').addEventListener('click', () => {
      let score = 0;
      questions.forEach((s, i) => {
        score += parseInt(document.getElementById('q' + i).value);
      });
      const maxScore = questions.reduce((a, b) => a + b.w, 0);
      const percent = ((score / maxScore) * 100).toFixed(2);
      document.getElementById('surveyResult').innerHTML = `<div class="card">Puntuación: ${percent}%</div>`;
    });

    // Generar gráficos
    new Chart(document.getElementById('barChart'), {
      type: 'bar',
      data: {
        labels: ['Criolla', 'Mariscos', 'Internacional', 'Fast Food'],
        datasets: [{ label: '# Restaurantes', data: [12, 8, 6, 10], backgroundColor: '#c0392b' }]
      }
    });
    new Chart(document.getElementById('pieChart'), {
      type: 'pie',
      data: {
        labels: ['Criolla', 'Mariscos', 'Internacional', 'Fast Food'],
        datasets: [{ data: [12, 8, 6, 10], backgroundColor: ['#c0392b','#e67e22','#2ecc71','#f1c40f'] }]
      }
    });
    new Chart(document.getElementById('lineChart'), {
      type: 'line',
      data: {
        labels: [1965, 1980, 1995, 2010, 2025],
        datasets: [{ label: 'Total Restaurantes', data: [5, 8, 15, 25, 30], borderColor: '#c0392b', fill: false }]
      }
    });
    new Chart(document.getElementById('areaChart'), {
      type: 'line',
      data: {
        labels: [1965, 1980, 1995, 2010, 2025],
        datasets: [{ label: 'Restaurantes', data: [5, 8, 15, 25, 30], backgroundColor: 'rgba(192,57,43,0.5)', fill: true }]
      }
    });
  </script>
</body>
</html>